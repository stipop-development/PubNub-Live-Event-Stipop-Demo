{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/stipop/Desktop/StipopRepos/pubnub_stream/chat-component-app-live-event/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/stipop/Desktop/StipopRepos/pubnub_stream/chat-component-app-live-event/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/stipop/Desktop/StipopRepos/pubnub_stream/chat-component-app-live-event/src/components/MessageListPanel/MessageListPanel.tsx\";\n\nimport React, { useReducer, useRef, useState } from 'react';\nimport { MessageListPanelWrapper } from './MessageListPanel.styles';\nimport { MessageInputWrapper, ComposeMessageBoxWrapper, UserImgWrapper } from '../ComposeMessageBox/ComposeMessageBox.styles';\nimport { MessageList } from '../MessageList/MessageList';\nimport { appData, appStateReducer } from \"../../AppStateContext\";\nexport var MessageListPanel = function MessageListPanel(props) {\n  var textAreaEl = useRef(null);\n\n  var _useReducer = useReducer(appStateReducer, appData),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchSticker = _useState4[0],\n      setSearchSticker = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      query = _useState6[0],\n      setQuery = _useState6[1];\n\n  var search = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(query) {\n      var response, results;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios(\"/v1/search?userId=123&searchText=\".concat(query), {\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Accept': 'application/json',\n                  'Access-Control-Allow-Origin': '*',\n                  'apiKey': 'e0fb71a7418582285972d33562218343'\n                }\n              });\n\n            case 2:\n              response = _context.sent;\n              results = response.data.body.stickerList;\n              console.log(results);\n              setSearchSticker(results);\n              return _context.abrupt(\"return\", results);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function search(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  React.useEffect(function () {\n    fetch('/v1/package?userId=123&pageNumber=3&lang=en', {\n      // const response = fetch('/v1/package?userId=123&pageNumber=1&country=us', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        'Access-Control-Allow-Origin': '*',\n        'apiKey': 'c61fc5d0a6b7600ccb94edbca4e86a8a'\n      },\n      method: \"get\"\n    }).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      setSticker(json.body.packageList);\n    }); // .then((json) => setStickers(json.body.packageList))\n    // .then(json => console.log(json))\n    // .then((responseJson) => {console.log(responseJson)});\n    // console.log(response);\n  }, []);\n\n  var handleKeyDown = function handleKeyDown(event) {\n    if (event.key === 'Enter') {\n      if ((textAreaEl === null || textAreaEl === void 0 ? void 0 : textAreaEl.current) !== null) {\n        dispatch({\n          type: \"SEND_MESSAGE\",\n          payload: {\n            messageContent: textAreaEl.current.value\n          }\n        });\n        textAreaEl.current.value = \"\";\n        textAreaEl.current.blur();\n        console.log('do validate');\n      }\n    }\n  };\n\n  var handleClick = function handleClick(image) {\n    if (image) {\n      dispatch({\n        type: \"SEND_MESSAGE\",\n        payload: {\n          messageContent: image\n        }\n      });\n      console.log('do validate');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MessageListPanelWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(MessageList, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(ComposeMessageBoxWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(UserImgWrapper, {\n    src: state.eventHostAvatar,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(MessageInputWrapper, {\n    autoComplete: \"off\",\n    onKeyPress: handleKeyDown,\n    ref: textAreaEl,\n    id: \"messageContent\" // onSubmitEditing={Keyboard.dismiss}\n    ,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: '../../../../src/img/sticker.svg',\n    onClick: function onClick() {\n      return setIsOpen(!isOpen);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }), isOpen === true ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '380px',\n      minWidth: '380px',\n      height: '430px',\n      backgroundColor: '#ffffff',\n      border: 'solid 1px #d9d9d9',\n      borderRadius: '6px',\n      overflow: 'scroll'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    style: {\n      width: '330px',\n      height: '26px',\n      margin: '10px 9px 11px 9px',\n      padding: '9px 14px',\n      objectFit: 'contain',\n      borderRadius: '18px',\n      border: 'solid 1px #d9d9d9',\n      backgroundColor: '#ffffff'\n    },\n    value: query,\n    onChange: function onChange(e) {\n      return [search(e.target.value), setQuery(e.target.value)];\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }), query ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }, stickerSearch && stickerSearch.map(function (stickers, index) {\n    console.log(stickers);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: stickers.packageId,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      style: {\n        width: '72px',\n        height: '70px',\n        marginLeft: '20px',\n        marginTop: '10px'\n      },\n      src: stickers.packageImg,\n      onClick: function onClick() {\n        return handleClick(stickers.packageImg);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 29\n      }\n    }));\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 21\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 15\n    }\n  }))));\n};\nMessageListPanel.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [],\n  \"displayName\": \"MessageListPanel\"\n};\n\nif (typeof STORYBOOK_REACT_CLASSES !== \"undefined\") {\n  STORYBOOK_REACT_CLASSES[\"src/components/MessageListPanel/MessageListPanel.tsx\"] = {\n    name: \"MessageListPanel\",\n    docgenInfo: MessageListPanel.__docgenInfo,\n    path: \"src/components/MessageListPanel/MessageListPanel.tsx\"\n  };\n}","map":{"version":3,"sources":["/Users/stipop/Desktop/StipopRepos/pubnub_stream/chat-component-app-live-event/src/components/MessageListPanel/MessageListPanel.tsx"],"names":["MessageListPanel","textAreaEl","useRef","state","dispatch","useReducer","isOpen","setIsOpen","useState","searchSticker","setSearchSticker","query","setQuery","search","response","axios","headers","results","console","React","fetch","method","setSticker","json","handleKeyDown","event","type","payload","messageContent","value","handleClick","image","width","minWidth","height","backgroundColor","border","borderRadius","overflow","margin","padding","objectFit","e","display","flexWrap","stickerSearch","stickers","marginLeft","marginTop"],"mappings":"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","sourcesContent":["import React, { useReducer, useEffect, useRef, useState }  from 'react';\nimport { MessageListPanelWrapper } from './MessageListPanel.styles';\nimport {  MessageInputWrapper, ComposeMessageBoxWrapper, UserImgWrapper, EmojiInputWrapper, StickerButton } from '../ComposeMessageBox/ComposeMessageBox.styles';\nimport { MessageList } from '../MessageList/MessageList';\nimport { AppStateProvider, appData, useAppState, Message, appStateReducer } from \"../../AppStateContext\"\n\n\ninterface MessageListPanelProps {\n\n\n}\n\nexport const MessageListPanel: React.SFC<MessageListPanelProps> = (props: MessageListPanelProps) => {\n\n  const textAreaEl = useRef<HTMLInputElement>(null);\n  const [state, dispatch] = useReducer(appStateReducer, appData);\n  const [isOpen, setIsOpen] = useState(false);\n  const [searchSticker, setSearchSticker] = useState<any>([]);\n  const [query, setQuery] = useState(\"\");\n\n\n  const search = async (query: string) => {\n    const response = await axios(`/v1/search?userId=123&searchText=${query}`, {\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json',\n            'Access-Control-Allow-Origin': '*',\n            'apiKey': 'e0fb71a7418582285972d33562218343',\n        }\n    });\n    const results = response.data.body.stickerList;\n    console.log(results);\n    setSearchSticker(results);\n    return results;\n  }\n\n\n  React.useEffect(() => {\n    fetch('/v1/package?userId=123&pageNumber=3&lang=en', {\n      // const response = fetch('/v1/package?userId=123&pageNumber=1&country=us', {\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'apiKey': 'c61fc5d0a6b7600ccb94edbca4e86a8a'\n        },\n        method:\"get\"\n      })\n      .then((response) => response.json())\n      .then((json) => {setSticker(json.body.packageList)})      // .then((json) => setStickers(json.body.packageList))\n      // .then(json => console.log(json))\n        // .then((responseJson) => {console.log(responseJson)});\n      // console.log(response);\n  }, [])\n\n  const handleKeyDown: React.KeyboardEventHandler = event => {\n    if (event.key === 'Enter') {\n\n      if (textAreaEl?.current !== null) {\n\n        dispatch({\n          type: \"SEND_MESSAGE\",\n          payload: { messageContent: textAreaEl.current!.value! }\n        } as {\n          type: \"SEND_MESSAGE\",\n          payload: {\n            messageContent: string\n          }\n        }\n        );\n        textAreaEl.current!.value = \"\";\n        textAreaEl.current.blur();\n        console.log('do validate');\n      }\n\n    }\n  };\n\n  const handleClick = (image) => {\n      if (image) {\n          dispatch({\n            type: \"SEND_MESSAGE\",\n            payload: { messageContent: image }\n          } as {\n            type: \"SEND_MESSAGE\",\n            payload: {\n              messageContent: string\n            }\n          }\n          );\n          console.log('do validate');\n        }\n  }\n\n  return (\n    <>\n      {/* <AppStateProvider> */}\n        <MessageListPanelWrapper>\n          <MessageList />\n          <ComposeMessageBoxWrapper>\n            <UserImgWrapper src={state.eventHostAvatar} />\n            <MessageInputWrapper\n              autoComplete=\"off\"\n              onKeyPress={handleKeyDown}\n              ref={textAreaEl}\n              id=\"messageContent\"\n              // onSubmitEditing={Keyboard.dismiss}\n            />\n            {/* <StickerButton onClick={() => setIsOpen(!isOpen)} /> */}\n            <img src={'../../../../src/img/sticker.svg'} onClick={() => setIsOpen(!isOpen)} />\n            {isOpen === true ?  \n              <div \n                style={{ \n                  width: '380px', \n                  minWidth: '380px', \n                  height: '430px', \n                  backgroundColor: '#ffffff',\n                  border: 'solid 1px #d9d9d9',\n                  borderRadius: '6px',\n                  overflow: 'scroll'\n                }}\n              >\n                <input\n                  style={{\n                    width: '330px',\n                    height: '26px',\n                    margin: '10px 9px 11px 9px',\n                    padding: '9px 14px',\n                    objectFit: 'contain',\n                    borderRadius: '18px',\n                    border: 'solid 1px #d9d9d9',\n                    backgroundColor: '#ffffff'\n                  }}\n                  value={query}\n                  onChange={e => [search(e.target.value), setQuery(e.target.value)]}\n                  >\n                </input>\n                { query ?\n                    <div style={{ display: 'flex', flexWrap: 'wrap'}}>\n                    {\n                      stickerSearch && stickerSearch.map((stickers, index) => {\n                        console.log(stickers);\n                        return (\n                          <div\n                            key={stickers.packageId}\n                          >\n                            <img\n                              style={{\n                                width: '72px',\n                                height: '70px',\n                                marginLeft: '20px',\n                                marginTop: '10px'\n                              }}  \n                              src={stickers.packageImg} \n                              onClick={() => handleClick(stickers.packageImg)} \n                            />\n                          </div>\n                        );\n                      })\n                    }\n                    </div>\n                    :\n                    <div>\n                    </div>\n                }\n                {/* <div style={{ display: 'flex', flexWrap: 'wrap'}}>\n                  <img style={{width: '80px', height: '80px' }} src={sticker.length > 0 && sticker[0].packageImg} onClick={() => handleClick(sticker[0].packageImg)} />\n                  <img style={{width: '80px', height: '80px' }} src={sticker.length > 0 && sticker[1].packageImg} onClick={() => handleClick(sticker[1].packageImg)} />\n                  <img style={{width: '80px', height: '80px' }} src={sticker.length > 0 && sticker[2].packageImg} onClick={() => handleClick(sticker[2].packageImg)} />\n                  <img style={{width: '80px', height: '80px' }} src={sticker.length > 0 && sticker[3].packageImg} onClick={() => handleClick(sticker[3].packageImg)} />\n                  <img style={{width: '80px', height: '80px' }} src={sticker.length > 0 && sticker[4].packageImg} onClick={() => handleClick(sticker[4].packageImg)} />\n                  <img style={{width: '80px', height: '80px' }} src={sticker.length > 0 && sticker[5].packageImg} onClick={() => handleClick(sticker[5].packageImg)} />\n                </div> */}\n              </div>\n              : \n              <div></div>\n            }\n            {/* <EmojiInputWrapper src=\"/images/emojiInput@3x.png\" /> */}\n          </ComposeMessageBoxWrapper>\n        </MessageListPanelWrapper>\n      {/* </AppStateProvider> */}\n </>\n  );\n}"]},"metadata":{},"sourceType":"module"}